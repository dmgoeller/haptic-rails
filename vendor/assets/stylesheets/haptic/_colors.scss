$haptic-light-primary-color:           #7BA1D0   !default;
$haptic-primary-color:                 #2670D0   !default;
$haptic-dark-primary-color:            #2670D0   !default;
$haptic-light-secondary-color:         #E7C586   !default;
$haptic-secondary-color:               #C26C1D   !default;
$haptic-dark-secondary-color:          #B6581A   !default;
$haptic-light-green:                   #A5D6A7   !default;  // Green 200
$haptic-green:                         #388E3C   !default;  // Green 700
$haptic-dark-green:                    #2E7D32   !default;  // Green 800
$haptic-light-red:                     #EF9A9A   !default;  // Red 200
$haptic-red:                           #D32F2F   !default;  // Red 700
$haptic-dark-red:                      #C62828   !default;  // Red 800
$haptic-light-text-color:              #C0C0C0   !default;
$haptic-text-color:                    #606060   !default;
$haptic-light-intense-text-color:      #E0E0E0   !default;
$haptic-intense-text-color:            #303030   !default;
$haptic-light-border-color:            #FFFFFF60 !default;
$haptic-border-color:                  #00000060 !default;

$haptic-dark-mode: true !default;

@mixin haptic-light-dark($property, $light, $dark) {
  #{$property}: $light;

  @if $haptic-dark-mode == true {
    @media(prefers-color-scheme: dark) {
      #{$property}: $dark;
    }
  }
}

/**********************************************************************
 * Buttons
 **********************************************************************/

.haptic-button {
  background-color: transparent;
  color: inherit;

  &.filled {
    background-color: $haptic-primary-color;
    color: white;

    &.secondary {
      background-color: #{$haptic-secondary-color};
    }
    &.green {
      background-color: #{$haptic-dark-green};
    }
    &.red {
      background-color: #{$haptic-dark-red};
    }
  }

  &:not(.filled) {
    &.outlined, &.text {
      @include haptic-light-dark(
        'color',
        $haptic-primary-color,
        $haptic-light-primary-color
      );

      &.secondary {
        @include haptic-light-dark(
          'color',
          $haptic-secondary-color,
          $haptic-light-secondary-color
        );
      }
      &.green {
        @include haptic-light-dark(
          'color',
          $haptic-dark-green,
          $haptic-light-green
        );
      }
      &.red {
        @include haptic-light-dark(
          'color',
          $haptic-dark-red,
          $haptic-light-red
        );
      }
    }
    &.outlined {
      @include haptic-light-dark(
        'border-color',
        $haptic-border-color,
        $haptic-light-border-color
      );

      &:focus, &:focus-visible {
        @include haptic-light-dark(
          'border-color',
          $haptic-primary-color,
          $haptic-light-primary-color
        );

        &.secondary {
          @include haptic-light-dark(
            'border-color',
            $haptic-secondary-color,
            $haptic-light-secondary-color
          );
        }
        &.green {
          @include haptic-light-dark(
            'border-color',
            $haptic-dark-green,
            $haptic-light-green
          );
        }
        &.red {
          @include haptic-light-dark(
            'border-color',
            $haptic-dark-red,
            $haptic-light-red
          );
        }
      }
    }
  }

  &:hover:not(:disabled), &:focus, &:focus-visible {
    &.filled {
      filter: brightness(1.1875);
    }

    &:not(.filled) {
      @include haptic-light-dark(
        'background-color',
        #00000010,
        #FFFFFF10
      );

      &.outlined, &.text {
        @include haptic-light-dark(
          'background-color',
          #{$haptic-primary-color}20,
          #{$haptic-light-primary-color}20
        );

        &.secondary {
          @include haptic-light-dark(
            'background-color',
            #{$haptic-secondary-color}20,
            #{$haptic-light-secondary-color}20
          );
        }
        &.green {
          @include haptic-light-dark(
            'background-color',
            #{$haptic-dark-green}20,
            #{$haptic-light-green}20
          );
        }
        &.red {
          @include haptic-light-dark(
            'background-color',
            #{$haptic-dark-red}20,
            #{$haptic-light-red}20
          );
        }
      }
    }
  }
}

/**********************************************************************
 * Chips and segmented buttons
 **********************************************************************/

.haptic-button-segment, .haptic-chip {
  input {
    @include haptic-light-dark(
      'border-color',
      $haptic-border-color,
      $haptic-light-border-color
    );

    &::after {
      background-color: transparent;
    }

    &:checked {
      background-color: #{$haptic-primary-color}40;

      &::after {
        @include haptic-light-dark(
          'background-color',
          #{$haptic-dark-primary-color},
          #{lighten($haptic-light-primary-color, 12.5%)}
        );
      }
      & ~ label {
        @include haptic-light-dark(
          'color',
          #{$haptic-dark-primary-color},
          #{lighten($haptic-light-primary-color, 12.5%)}
        );
      }
    }

    &:hover:not(:checked) {
      @include haptic-light-dark(
        'background-color',
        #{$haptic-primary-color}20,
        #{$haptic-light-primary-color}20
      );
    }

    &:focus-visible {
      @include haptic-light-dark(
        'background-color',
        #{$haptic-primary-color}60,
        #{$haptic-light-primary-color}60
      );
    }
  }
}

/**********************************************************************
 * Fields
 **********************************************************************/

.haptic-field {
  background-color: transparent;
  outline-color: transparent;

  @include haptic-light-dark(
    'caret-color',
    $haptic-primary-color,
    $haptic-light-primary-color
  );
  @include haptic-light-dark(
    'color',
    $haptic-intense-text-color,
    $haptic-light-intense-text-color
  );

  &.filled {
    @include haptic-light-dark(
      'background-color',
      #0000002C,
      #FFFFFF20
    );
  }

  &.outlined {
    @include haptic-light-dark(
      'border-color',
      $haptic-border-color,
      $haptic-light-border-color
    )
  }

  &::placeholder {
    @include haptic-light-dark(
      'color',
      #00000060,
      #FFFFFF60
    );
  }
}

haptic-text-field {
  $error-color: $haptic-dark-red;
  $light-error-color: $haptic-light-red;

  label {
    @include haptic-light-dark(
      'color',
      $haptic-dark-primary-color,
      $haptic-light-primary-color
    );
  }

  &[animated][empty]:not([focus]) label {
    @include haptic-light-dark(
      'color',
      $haptic-text-color,
      $haptic-light-text-color
    );
  }

  .clear-button, .leading-icon, .trailing-icon {
    @include haptic-light-dark(
      'color',
      $haptic-text-color,
      $haptic-light-text-color
    );
  }

  .clear-button {
    background-color: transparent;

    &:hover {
      @include haptic-light-dark(
        'color',
        #00000010,
        #FFFFFF10
      );
    }
  }

  .error-icon {
    @include haptic-light-dark(
      'color',
      $error-color,
      $light-error-color
    );
  }

  &[focus-indicator] .container::after {
    @include haptic-light-dark(
      'background-color',
      $haptic-dark-primary-color,
      $haptic-light-primary-color
    );
  }

  &[invalid] {
    label, .error-message {
      @include haptic-light-dark(
        'color',
        $error-color,
        $light-error-color
      );
    }
    .haptic-field.outlined {
      @include haptic-light-dark(
        'border-color',
        $error-color,
        $light-error-color
      );
    }
    &[focus-indicator] .container::after {
      @include haptic-light-dark(
        'background-color',
        $error-color,
        $light-error-color
      );
    }
  }
}

/**********************************************************************
 * Checkboxes and radio buttons
 **********************************************************************/

.haptic-checkbox, .haptic-radio-button {
  &, &::after {
    background-color: transparent;
  }

  &:checked::after {
    @include haptic-light-dark(
      'background-color',
      $haptic-intense-text-color,
      $haptic-light-intense-text-color
    );
  }

  &:not(.embedded) {
    outline-color: transparent;

    &:focus-visible {
      @include haptic-light-dark(
        'background-color',
        #00000020,
        #FFFFFF20
      );
      @include haptic-light-dark(
        'otuline-color',
        #00000020,
        #FFFFFF20
      );
    }
  }

  &.filled::before {
    @include haptic-light-dark(
      'background-color',
      #0000002C,
      #FFFFFF20
    );
  }

  &.outlined::before {
    @include haptic-light-dark(
      'border-color',
      $haptic-border-color,
      $haptic-light-border-color
    );
  }
}

.haptic-checkbox:checked {
  &.filled::before {
    background-color: transparent;
  }
  &.outlined::before {
    border-color: transparent;
  }
}

/**********************************************************************
 * Switches
 **********************************************************************/

.haptic-switch {
  background-color: transparent;

  &::before {
    @include haptic-light-dark(
      'background-color',
      #00000060,
      #FFFFFF40
    );
  }

  &::after {
    outline-color: transparent;

    @include haptic-light-dark(
      'background-color',
      white,
      $haptic-light-intense-text-color
    );
  }

  &:checked {
    &::before {
      background-color: $haptic-primary-color;
    }
    &::after {
      background-color: white;
    }
  }

  &:focus-visible::after {
    @include haptic-light-dark(
      'outline-color',
      #00000020,
      #FFFFFF20
    );
  }

  &.red-green {
    &::before {
      @include haptic-light-dark(
        'background-color',
        $haptic-dark-red,
        $haptic-red
      );
    }

    &::after {
      background-color: white;
    }

    &:checked::before {
      @include haptic-light-dark(
        'background-color',
        $haptic-dark-green,
        $haptic-green
      );
    }
  }
}

/**********************************************************************
 * Lists
 **********************************************************************/

.haptic-list-item {
  .haptic-list.divided &:not(:first-of-type) {
    @include haptic-light-dark(
      'border-color',
      $haptic-border-color,
      $haptic-light-border-color
    );
  }

  .haptic-checkbox {
    &:hover {
      @include haptic-light-dark(
        'background-color',
        #00000010,
        #FFFFFF10
      );
    }
    &:focus-visible {
      @include haptic-light-dark(
        'background-color',
        #00000020,
        #FFFFFF20
      );
    }
  }
}
